import"./modulepreload-polyfill-3cfb730f.js";/* empty css              */import{A as r,T as d,E as w}from"./common-0a73646d.js";const a="d5e58fe8140144978d2ccc0dc75c46ba",g="user-top-read user-follow-read playlist-read-private user-library-read",l="http://localhost:4173/login/login.html",i="http://localhost:4173",h=()=>{console.log(a),console.log(l);const o=`https://accounts.spotify.com/authorize?response_type=token&client_id=${a}&scope=${g}&redirect_uri=${l}&show_dialog=true"`;window.open(o,"login","width=800,height=600")};document.addEventListener("DOMContentLoaded",()=>{document.getElementById("login-button").addEventListener("click",h)});window.setItemsInLocalStorage=({accessToken:o,tokenType:t,expiresIn:e})=>{localStorage.setItem(r,o),localStorage.setItem(d,t),localStorage.setItem(w,Date.now()+e*1e3)};window.addEventListener("load",()=>{if(localStorage.getItem(r)&&(console.log("ub"),window.location=`${i}/dashboard/dashboard.html`),window.opener!==null&&!window.opener.closed){window.focus(),window.location.href.includes("error")&&window.close();const{hash:t}=window.location,e=new URLSearchParams(t),n=e.get("#access_token"),s=e.get("token_type"),c=e.get("expires_in");n?(window.close(),console.log(n,s,c),window.setItemsInLocalStorage({accessToken:n,tokenType:s,expiresIn:c}),window.opener.location=`${i}/dashboard/dashboard.html`):window.close()}});
